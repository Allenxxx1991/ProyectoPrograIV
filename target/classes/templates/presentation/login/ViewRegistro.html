<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/registro.css}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>

<div class="Registro">
    <form method="post" th:action="@{/presentation/login/registro}" enctype="multipart/form-data">
        <h2>Registro</h2>
        <div th:object="${cliente}">
            <div>
                <label>Identificación:
                    <input type="text" th:field="*{idCliente}" required>
                </label>
            </div>
            <div>
                <label>Nombre:
                    <input type="text" th:field="*{nombre}" required>
                </label>
            </div>
            <div>
                <label>Apellido:
                    <input type="text" th:field="*{apellido}" required>
                </label>
            </div>
            <div>
                <label>Email:
                    <input type="email" th:field="*{email}" required>
                </label>
            </div>
            <div>
                <label>Contraseña:
                    <input type="password" th:field="*{contrasena}" required>
                </label>
            </div>
            <div>
                <label>Teléfono:
                    <input type="text" th:field="*{telefono}" required>
                </label>
            </div>
        </div>

        <div th:object="${direccionPrincipal}">
            <h3>Dirección Principal</h3>

            <div>
                <label>Provincia:</label>
                <select name="provinciaSeleccionada" th:onchange="this.form.submit()">
                    <option value="">Seleccione una provincia</option>
                    <option th:each="provincia : ${provincias}"
                            th:value="${provincia.key}"
                            th:text="${provincia.value.nombre}"
                            th:selected="${provincia.key == provinciaSeleccionada}">
                    </option>
                </select>
            </div>

            <div th:if="${provinciaSeleccionada != null}">
                <label>Cantón:</label>
                <select name="cantonSeleccionado" th:onchange="this.form.submit()">
                    <option value="">Seleccione un cantón</option>
                    <option th:each="canton : ${cantones}"
                            th:value="${canton.key}"
                            th:text="${canton.value.nombre}"
                            th:selected="${canton.key == cantonSeleccionado}">
                    </option>
                </select>
            </div>

            <div th:if="${cantonSeleccionado != null}">
                <label>Distrito:</label>
                <select name="distritoSeleccionado">
                    <option value="">Seleccione un distrito</option>
                    <option th:each="distrito : ${distritos}"
                            th:value="${distrito.key}"
                            th:text="${distrito.value}"
                            th:selected="${distrito.key == distritoSeleccionado}">
                    </option>
                </select>
            </div>

            <div>
                <label>Descripción:</label>
                <input type="text" th:field="*{descripcion}" />
            </div>
        </div>

        <div th:object="${direccionSecundaria}">
            <h3>Dirección Secundaria (Opcional)</h3>

            <div>
                <label>Provincia:</label>
                <select name="provinciaSecundariaSeleccionada" th:onchange="this.form.submit()">
                    <option value="">Seleccione una provincia</option>
                    <option th:each="provincia : ${provincias}"
                            th:value="${provincia.key}"
                            th:text="${provincia.value.nombre}"
                            th:selected="${provincia.key == provinciaSecundariaSeleccionada}">
                    </option>
                </select>
            </div>

            <div th:if="${provinciaSecundariaSeleccionada != null}">
                <label>Cantón (Opcional):</label>
                <select name="cantonSecundarioSeleccionado" th:onchange="this.form.submit()">
                    <option value="">Seleccione un cantón</option>
                    <option th:each="canton : ${cantonesSecundarios}"
                            th:value="${canton.key}"
                            th:text="${canton.value.nombre}"
                            th:selected="${canton.key == cantonSecundarioSeleccionado}">
                    </option>
                </select>
            </div>

            <div th:if="${cantonSecundarioSeleccionado != null}">
                <label>Distrito (Opcional):</label>
                <select name="distritoSecundarioSeleccionado">
                    <option value="">Seleccione un distrito</option>
                    <option th:each="distrito : ${distritosSecundarios}"
                            th:value="${distrito.key}"
                            th:text="${distrito.value}"
                            th:selected="${distrito.key == distritoSecundarioSeleccionado}">
                    </option>
                </select>
            </div>

            <div>
                <label>Descripción (Opcional):</label>
                <input type="text" th:field="*{descripcion}" />
            </div>
        </div>

        <p th:if="${error}" th:text="${error}" class="error-message"></p>
        <div>
            <button type="submit">Actualizar</button>
        </div>
    </form>
</div>


</body>
</html>





